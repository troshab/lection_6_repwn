# Common Directory

**[← Назад до головної](../README.md)**

## Опис

Ця директорія містить спільні файли, які використовуються в різних PWN завданнях. Основна мета - уникнути дублювання коду та забезпечити єдиний підхід до мережевих операцій.

## Файли

### net.h

Header-only бібліотека для TCP мережевих операцій. Містить inline функції для:

- `tcp_listen(const char* ip, int port)` - створює TCP сокет і починає слухати на вказаній адресі
- `tcp_accept_one(int s)` - приймає одне підключення від клієнта

### net.c

Placeholder файл (на даний момент порожній). Усю логіку реалізовано як inline функції в `net.h` для простоти використання.

## Використання

В завданнях достатньо включити заголовок:

```c
#include "../common/net.h"

int main() {
    int server = tcp_listen("0.0.0.0", 1337);
    int client = tcp_accept_one(server);
    // ... робота з клієнтом
    close(client);
    close(server);
    return 0;
}
```

## Особливості реалізації

- **SO_REUSEADDR**: дозволяє швидко перезапускати сервер без очікування TIME_WAIT
- **Простота**: мінімалістичний API для навчальних цілей
- **Обробка помилок**: при помилках програма завершується з відповідним повідомленням
- **Header-only**: не потребує окремої компіляції, все inline

## Завдання, що використовують common/

Більшість завдань, які працюють як мережеві сервіси, використовують ці утиліти для прослуховування підключень.

## Примітки

- Код оптимізований для простоти розуміння, а не для продакшену
- Використовується IPv4 (AF_INET)
- Не підтримує багатопоточність - обробляється один клієнт за раз

---

## Див. також

- [Вихідний код завдань](../stage01_nc/) - Приклади використання
- [BUILD_INSTRUCTIONS.md](../BUILD_INSTRUCTIONS.md) - Як компілювати з common файлами

**[← Назад до головної](../README.md)**
